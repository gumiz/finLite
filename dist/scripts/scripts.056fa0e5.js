"use strict";angular.module("finLiteApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","ngDialog","angular-growl"]).config(["$routeProvider","growlProvider",function(a,b){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"}),b.globalTimeToLive(5e3)}]),angular.module("finLiteApp").controller("MainCtrl",["$scope",function(a){}]),angular.module("finLiteApp").controller("AccountsCtrl",["$scope","repositoryService","dialogService","notify",function(a,b,c,d){var e=function(b){a.accounts=b,d.info("odświeżono dane")},f=function(){b.getAccounts(e)};a.refresh=f,a.addAccount=function(){b.addAccount(a.newAccount,f)};var g=function(a){return function(){return b.deleteAccount(a,f)}};a.deleteAccount=function(a){c.confirmation("Czy na pewno chcesz usunąć to konto?",g(a))},f()}]),angular.module("finLiteApp").service("repositoryService",["$http","ajaxService",function(a,b){function c(a){}var d=function(a){b.doGetWithBlock("accounts").then(a)},e=function(a,c){b.doPostWithBlock("addAccount",a).then(c)},f=function(a,c){b.doPostWithBlock("deleteAccount",{id:a}).then(c)};return{addAccount:e,deleteAccount:f,getAccounts:d,init:c}}]),angular.module("finLiteApp").service("ajaxService",["$http","$rootScope","notify","$q",function(a,b,c,d){function e(a){b.incrementAsyncRequestCount&&a&&b.incrementAsyncRequestCount()}function f(a){b.decrementAsyncRequestCount&&a&&b.decrementAsyncRequestCount()}function g(a,b,d){var e=d||"Wystąpił błąd podczas przetwarzania";c.error(e),a.reject(b)}function h(a,b){return j(a,b,!0)}function i(a){return k(a,!0)}var j=function(b,c,h){e(h);var i=d.defer();return a.post(b,c).success(function(a){f(h),i.resolve(a)}).error(function(a,b){f(h),g(i,b,a)}),i.promise},k=function(b,c){e(c);var h=d.defer();return a.get(b).success(function(a){f(c),h.resolve(a)}).error(function(a,b){f(c),g(h,b,a)}),h.promise};return{doGet:k,doPost:j,doPostWithBlock:h,doGetWithBlock:i}}]),angular.module("finLiteApp").factory("dialogService",["ngDialog",function(a){var b=function(b){a.openConfirm({template:"<p>"+b+'</p>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">OK</button>                </div>',plain:!0})},c=function(b,c){a.openConfirm({template:"<p>"+b+'</p>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">Nie</button>                    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Tak</button>                </div>',plain:!0}).then(function(a){c()},function(a){})},d=function(b,c){a.openConfirm({template:b,scope:c})},e=function(){a.close()};return{showMessage:b,confirmation:c,showDialog:d,closeDialog:e}}]),angular.module("finLiteApp").service("notify",["growl",function(a){var b=function(b){a.info(b,{title:"FinLite informuje"})},c=function(b){a.error(b,{title:"Błąd!"})};return{info:b,error:c}}]);